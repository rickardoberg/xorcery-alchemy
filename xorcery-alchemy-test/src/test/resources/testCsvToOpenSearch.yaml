$schema: META-INF/xorcery-alchemy-test-override-schema.json

opensearch:
  enabled: true
  componentTemplates:
    - id: "common"
      resource: "resource://opensearch/templates/components/common.yaml"
  indexTemplates:
    - id: "people"
      resource: "resource://opensearch/people.yaml"

crucible:
  transmutations:
  - context:
      sourceUrl: "resource://readcsvfilewithheaders.csv"
    recipe:
      name: "testCsvToOpenSearch"
      source:
        jar: csv
        name: "readcsvfilewithheaders"
        headers: true
        quote: "'"
      transmutes:
      - jar: log
      - jar: opensearch
        context:
          index: "people-%tF"
          alias: "people"
