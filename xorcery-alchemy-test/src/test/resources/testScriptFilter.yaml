$schema: META-INF/xorcery-alchemy-crucible-override-schema.json
crucible:
  recipes:
    - name: "scriptgeneratortransmute"
      source:
        name: "numbergenerator"
        jar: script
        bindings:
          "index": 0
          "max": 10
        script: |+
          print(bindings.index);
          if (bindings.index < bindings.max)
          {
            data.value = bindings.index;
            bindings.index++;
          } else
          {
            data = null;
          }
      transmutes:
      - name: "javascript"
        jar: script
        bindings:
          "abc": 123
          "inc": 3
        script: |+
          print('value:'+data.value);
          data.xyz="abc:"+bindings.abc;
          data.struct = {"foo":bindings.inc+data.value,"bar":true};
      result:
        jar: log

log4j2:
  Configuration:
    thresholdFilter:
      level: info
